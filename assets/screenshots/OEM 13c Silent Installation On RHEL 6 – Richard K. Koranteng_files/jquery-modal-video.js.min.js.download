(function(){function a(b,c,e){var g,d;function f(d,k){var i,j,h;if(!c[d]){if(!b[d]){if(i=typeof require=="function"&&require,!k&&i)return i(d,!0);if(g)return g(d,!0);throw j=new Error("Cannot find module '"+d+"'"),j.code="MODULE_NOT_FOUND",j}h=c[d]={exports:{}},b[d][0].call(h.exports,function(a){var c=b[d][1][a];return f(c||a)},h,h.exports,a,b,c,e)}return c[d].exports}g=typeof require=="function"&&require;for(d=0;d<e.length;d++)f(e[d]);return f}return a})()({1:[function(c,d,e){var a,b;try{if(a=new window.CustomEvent('test'),a.preventDefault(),a.defaultPrevented!==!0)throw new Error('Could not prevent default')}catch(a){b=function(d,a){var b,c;return a=a||{bubbles:!1,cancelable:!1,detail:void 0},b=document.createEvent("CustomEvent"),b.initCustomEvent(d,a.bubbles,a.cancelable,a.detail),c=b.preventDefault,b.preventDefault=function(){c.call(this);try{Object.defineProperty(this,'defaultPrevented',{get:function(){return!0}})}catch(a){this.defaultPrevented=!0}},b},b.prototype=window.Event.prototype,window.CustomEvent=b}},{}],2:[function(d,b,e){'use strict';function a(f,j){var g,d,a,e,b,i,c,h;if(f===void 0||f===null)throw new TypeError('Cannot convert first argument to object');g=Object(f);for(d=1;d<arguments.length;d++){if(a=arguments[d],a===void 0||a===null)continue;e=Object.keys(Object(a));for(b=0,i=e.length;b<i;b++)c=e[b],h=Object.getOwnPropertyDescriptor(a,c),h!==void 0&&h.enumerable&&(g[c]=a[c])}return g}function c(){Object.assign||Object.defineProperty(Object,'assign',{enumerable:!1,configurable:!0,writable:!0,value:a})}b.exports={assign:a,polyfill:c}},{}],3:[function(c,d,f){'use strict';var e=c('../index'),a=function(a){a.fn.modalVideo=function(a){return typeof a=='strings'||new e(this,a),this}},b;typeof define=='function'&&define.amd?define(['jquery'],a):(b=window.jQuery?window.jQuery:window.$,typeof b!='undefined'&&a(b)),d.exports=a},{"../index":5}],4:[function(b,i,c){'use strict';var e,a,f,d,g;Object.defineProperty(c,"__esModule",{value:!0}),e=function(){function a(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),b('custom-event-polyfill'),a=b('../lib/util');function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}f=b('es6-object-assign').assign,d={channel:'youtube',facebook:{},youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,loop:0,modestbranding:null,mute:0,origin:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:'transparent',theme:'dark',nocookie:!1},ratio:'16:9',vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,controls:!0,height:null,loop:!1,maxheight:null,maxwidth:null,muted:!1,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},allowFullScreen:!0,allowAutoplay:!0,animationSpeed:300,classNames:{modalVideo:'modal-video',modalVideoClose:'modal-video-close',modalVideoBody:'modal-video-body',modalVideoInner:'modal-video-inner',modalVideoIframeWrap:'modal-video-movie-wrap',modalVideoCloseBtn:'modal-video-close-btn'},aria:{openMessage:'You just openned the modal video',dismissBtnMessage:'Close the modal by clicking here'}},g=function(){function b(e,i){var g=this,c,j,k,l,m;h(this,b),c=f({},d,i),j=typeof e=='string'?document.querySelectorAll(e):e,k=document.querySelector('body'),l=c.classNames,m=c.animationSpeed,[].forEach.call(j,function(b){b.addEventListener('click',function(q){var o,p,e,j,n,d,f,h,i;b.tagName==='A'&&q.preventDefault(),o=b.dataset.videoId,p=b.dataset.channel||c.channel,e=(0,a.getUniqId)(),j=b.dataset.videoUrl||g.getVideoUrl(c,p,o),n=g.getHtml(c,j,e),(0,a.append)(k,n),d=document.getElementById(e),f=d.querySelector('.js-modal-video-dismiss-btn'),h=void 0,i=function(){clearTimeout(h),h=setTimeout(function(){var a=g.getWidthFulfillAspectRatio(c.ratio,window.innerHeight,window.innerWidth),b=document.getElementById('modal-video-inner-'+e);b.style.maxWidth!==a&&(b.style.maxWidth=a)},10)},d.focus(),d.addEventListener('click',function(){(0,a.addClass)(d,l.modalVideoClose),window.removeEventListener('resize',i),setTimeout(function(){(0,a.remove)(d),b.focus()},m)}),d.addEventListener('keydown',function(a){a.which===9&&(a.preventDefault(),document.activeElement===d?f.focus():(d.setAttribute('aria-label',''),d.focus()))}),window.addEventListener('resize',i),f.addEventListener('click',function(){(0,a.triggerEvent)(d,'click')})})})}return e(b,[{key:'getPadding',value:function(b){var a=b.split(':'),c=Number(a[0]),d=Number(a[1]),e=d*100/c;return e+'%'}},{key:'getWidthFulfillAspectRatio',value:function(e,b,f){var c=e.split(':'),d=Number(c[0]),a=Number(c[1]),g=f*(a/d);return b<g?Math.floor(d/a*b)+'px':'100%'}},{key:'getQueryString',value:function(b){var a='';return Object.keys(b).forEach(function(c){a+=c+'='+b[c]+'&'}),a.substr(0,a.length-1)}},{key:'getVideoUrl',value:function(a,b,c){return b==='youtube'?this.getYoutubeUrl(a.youtube,c):b==='vimeo'?this.getVimeoUrl(a.vimeo,c):b==='facebook'?this.getFacebookUrl(a.facebook,c):b==='custom'?a.url:''}},{key:'getVimeoUrl',value:function(a,b){var c=this.getQueryString(a);return'//player.vimeo.com/video/'+b+'?'+c}},{key:'getYoutubeUrl',value:function(a,b){var c=this.getQueryString(a);return a.nocookie===!0?'//www.youtube-nocookie.com/embed/'+b+'?'+c:'//www.youtube.com/embed/'+b+'?'+c}},{key:'getFacebookUrl',value:function(a,b){return'//www.facebook.com/v2.10/plugins/video.php?href=https://www.facebook.com/facebook/videos/'+b+'&'+this.getQueryString(a)}},{key:'getHtml',value:function(a,d,c){var e=this.getPadding(a.ratio),b=a.classNames;return'\n      <div class="'+b.modalVideo+'" tabindex="-1" role="dialog" aria-label="'+a.aria.openMessage+'" id="'+c+'">\n        <div class="'+b.modalVideoBody+'">\n          <div class="'+b.modalVideoInner+'" id="modal-video-inner-'+c+'">\n            <div class="'+b.modalVideoIframeWrap+'" style="padding-bottom:'+e+'">\n              <button class="'+b.modalVideoCloseBtn+' js-modal-video-dismiss-btn" aria-label="'+a.aria.dismissBtnMessage+"\"></button>\n              <iframe width='460' height='230' src=\""+d+"\" frameborder='0' allowfullscreen="+a.allowFullScreen+' tabindex="-1" allow="'+(a.allowAutoplay?'autoplay;':'')+' accelerometer; encrypted-media; gyroscope; picture-in-picture" />\n            </div>\n          </div>\n        </div>\n      </div>\n    '}}]),b}(),c.default=g,i.exports=c.default},{"../lib/util":6,"custom-event-polyfill":1,"es6-object-assign":2}],5:[function(a,b,c){'use strict';b.exports=a('./core/')},{"./core/":4}],6:[function(g,h,a){'use strict';var d,e,f,b,c;Object.defineProperty(a,"__esModule",{value:!0}),d=a.append=function(b,c){var a=document.createElement('div');for(a.innerHTML=c;a.children.length>0;)b.appendChild(a.children[0])},e=a.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},f=a.remove=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},b=a.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=' '+b},c=a.triggerEvent=function(c,b,d){var a=void 0;window.CustomEvent?a=new CustomEvent(b,{cancelable:!0}):(a=document.createEvent('CustomEvent'),a.initCustomEvent(b,!1,!1,d)),c.dispatchEvent(a)}},{}]},{},[3])